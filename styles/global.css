/* =================================================================
   CDO 终极方案：变量覆盖法 (Variable Override)
   ================================================================= */

:root {
  /* 1. 强制杀掉圆角变量 */
  --notion-corner-radius: 4px !important;

  /* 2. 强制杀掉投影变量 (这是最关键的一步！) */
  --notion-card-shadow: none !important;
  --notion-shadow-card: none !important; /*防止变量名不同，两个都写上*/
  
  /* 基础配置 */
  --fg-color: #37352f;
  --bg-color: #fff;
  --notion-gap: 16px;
}

/* 基础重置 */
body { margin: 0 !important; padding: 0 !important; overflow-x: hidden; }
.notion-frame { padding: 0 !important; }

/* 亮暗模式按钮复位 */
.custom-header-buttons {
    position: absolute !important;
    top: 16px; right: 20px; z-index: 1000;
    display: flex; align-items: center;
}
.toggle-dark-mode { padding: 8px; cursor: pointer; }

/* =========================================================
   画廊卡片 (Gallery Card)
   ========================================================= */
body .notion-gallery-card {
    /* 暴力覆盖所有可能的投影来源 */
    box-shadow: none !important; 
    filter: none !important; 
    -webkit-box-shadow: none !important;

    /* 边框和背景 */
    border: 1px solid rgba(0, 0, 0, 0.08) !important;
    border-radius: 4px !important;
    background: transparent !important;
    transition: all 0.2s ease !important;
}

/* 悬停效果：只加深一点边框，绝不加投影 */
body .notion-gallery-card:hover {
    background: rgba(0, 0, 0, 0.02) !important; /* 极淡的灰色 */
    border-color: rgba(0, 0, 0, 0.2) !important;
    transform: translateY(-2px) !important;
    box-shadow: none !important;
}

/* 暗黑模式适配 */
[data-theme='dark'] body .notion-gallery-card {
    border-color: rgba(255, 255, 255, 0.1) !important;
}
[data-theme='dark'] body .notion-gallery-card:hover {
    background: rgba(255, 255, 255, 0.05) !important;
    border-color: rgba(255, 255, 255, 0.3) !important;
}

/* 其他修复 */
body .notion-aside-table-of-contents-header { display: none !important; }
body .notion-aside-table-of-contents { margin-top: 8px !important; padding-left: 0 !important; }
body .notion-table-of-contents-item { list-style: none !important; padding: 2px 0 !important; }
body .notion-table-of-contents-item a { text-decoration: none !important; color: rgba(55,53,47,0.6) !important; }
body .notion-table-of-contents-item a:hover { color: #0b6e99 !important; }
body .notion-page-cover-wrapper, body .notion-page-cover, body .notion-block-image img { box-shadow: none !important; border-radius: 4px !important; }
