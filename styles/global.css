/* =================================================================
   CDO ç»ˆææ ·å¼ V5.0ï¼šåšå®¢åˆ—è¡¨ + å›ºå®šæŒ‰é’® + ç¾åŒ–æ»šåŠ¨æ¡
   ================================================================= */

:root {
  --notion-corner-radius: 4px !important;
  --fg-color: #37352f;
  --fg-color-1: rgba(55, 53, 47, 0.6);
  --bg-color: #fff;
}

/* 1. åŸºç¡€é‡ç½® */
body { margin: 0 !important; padding: 0 !important; overflow-x: hidden; }
.notion-frame { padding: 0 !important; }

/* =========================================================
   ğŸŒŸ æ–°å¢ï¼šæ»šåŠ¨æ¡ç¾åŒ– (éšå½¢/æç®€é£æ ¼)
   ========================================================= */
/* Webkit æµè§ˆå™¨ (Chrome, Safari, Edge) */
::-webkit-scrollbar {
    width: 6px;  /* å˜å¾—å¾ˆç»† */
    height: 6px;
}
::-webkit-scrollbar-track {
    background: transparent; /* è½¨é“å®Œå…¨é€æ˜ */
}
::-webkit-scrollbar-thumb {
    background: rgba(0, 0, 0, 0.15); /* æ»‘å—å¹³æ—¶å¾ˆæ·¡ */
    border-radius: 3px;
}
::-webkit-scrollbar-thumb:hover {
    background: rgba(0, 0, 0, 0.3); /* é¼ æ ‡æ”¾ä¸Šå»å˜æ·±ä¸€ç‚¹ */
}
/* æš—é»‘æ¨¡å¼ä¸‹çš„æ»šåŠ¨æ¡ */
[data-theme='dark'] ::-webkit-scrollbar-thumb {
    background: rgba(255, 255, 255, 0.2);
}
[data-theme='dark'] ::-webkit-scrollbar-thumb:hover {
    background: rgba(255, 255, 255, 0.4);
}

/* =========================================================
   ğŸŒŸ æ ¸å¿ƒä¿®å¤ï¼šæŒ‰é’®ä½ç½®ã€å½¢çŠ¶ã€é¢œè‰²ã€æ‰‹æœºé€‚é…
   ========================================================= */
.custom-header-buttons {
    position: fixed !important; 
    /* 1. åœ¨è¿™é‡Œä¿®æ”¹ä½ç½® */
    top: 7px;    
    right: 7px; 
    
    z-index: 9999 !important;
    display: flex; 
    align-items: center;
    justify-content: center;
}

.toggle-dark-mode { 
    /* 2. å¼ºåˆ¶æ­£åœ†ï¼šé”æ­»å®½é«˜ + å±…ä¸­ */
    display: flex !important;
    align-items: center;
    justify-content: center;
    width: 40px !important;  /* é”æ­»å®½åº¦ */
    height: 40px !important; /* é”æ­»é«˜åº¦ */
    font-size: 20px !important; /* ğŸŒŸ æ–°å¢ï¼šè®©é‡Œé¢çš„å¤ªé˜³/æœˆäº®å›¾æ ‡ä¹Ÿå˜å¤§ */
    border-radius: 50% !important; /* ç»å¯¹æ­£åœ† */
    padding: 0 !important;   /* å»æ‰ padding é˜²æ­¢å˜æ¤­åœ† */
    
    cursor: pointer; 
    transition: transform 0.2s ease, background 0.2s ease;
    
    /* 3. æ‰‹æœºç«¯ä¼˜åŒ–ï¼šå»æ‰ç‚¹å‡»æ—¶çš„ç³»ç»Ÿç°å— */
    -webkit-tap-highlight-color: transparent !important;
    outline: none !important;
    user-select: none;
    
    /* é»˜è®¤é¢œè‰² (äº®è‰²æ¨¡å¼) */
    color: #37352f !important;
    background: transparent !important;
}

/* ğŸ’» ç”µè„‘ç«¯æ‚¬åœæ•ˆæœ (åªåœ¨æœ‰é¼ æ ‡çš„è®¾å¤‡ä¸Šç”Ÿæ•ˆï¼Œé˜²æ­¢æ‰‹æœºç«¯å¡ä½) */
@media (hover: hover) {
    .toggle-dark-mode:hover {
        background: rgba(0,0,0,0.05) !important; /* ææ·¡ç°è‰²åœ†åº• */
        transform: scale(1.1);
    }
}

/* ğŸ“± æ‰‹æœºç«¯ç‚¹å‡»åé¦ˆ (æŒ‰ä¸‹å»ç¼©å°ä¸€ç‚¹ç‚¹ï¼Œä½†ä¸æ˜¾ç¤ºèƒŒæ™¯è‰²) */
.toggle-dark-mode:active {
    transform: scale(0.9);
    background: transparent !important;
}

/* ğŸŒ™ æš—é»‘æ¨¡å¼é€‚é… (ä¿®å¤æœˆäº®ä¸ç™½çš„é—®é¢˜) */
/* åªè¦ body æœ‰ dark-mode ç±»ï¼Œé‡Œé¢çš„å›¾æ ‡å°±å¼ºåˆ¶å˜ç™½ */
body.dark-mode .toggle-dark-mode {
    color: #ffffff !important; 
}

/* æš—é»‘æ¨¡å¼ä¸‹çš„æ‚¬åœ (ä»…ç”µè„‘) */
@media (hover: hover) {
    body.dark-mode .toggle-dark-mode:hover {
        background: rgba(255,255,255,0.1) !important;
    }
}

/* =========================================================
   3. æ ¸å¿ƒå¸ƒå±€ï¼šç”»å»Š -> åˆ—è¡¨ (ä¿æŒä¸å˜)
   ========================================================= */
body .notion-gallery-grid {
    display: flex !important;
    flex-direction: column !important;
    gap: 0 !important;
    border-top: none !important;
    padding-top: 20px !important;
    max-width: 100% !important; /* æ’‘æ»¡å®½åº¦ */
    margin: 0 auto !important;
}

/* æ”¹é€ å¡ç‰‡ï¼šå·¦æ–‡å³å›¾ */
body .notion-gallery-grid a {
    display: flex !important;
    flex-direction: row-reverse !important;
    align-items: flex-start !important;
    justify-content: space-between !important;
    
    width: 100% !important;
    height: auto !important;
    min-height: 140px !important;
    
    box-shadow: none !important;
    border: none !important;
    border-bottom: 1px solid rgba(0, 0, 0, 0.08) !important;
    border-radius: 0 !important;
    background: transparent !important;
    
    padding: 24px 0 !important;
    text-decoration: none !important;
}

/* =========================================================
   4. å³ä¾§å›¾ç‰‡å®¹å™¨ (å°åœ†è§’ 4px + æ— æŠ•å½±)
   ========================================================= */
body .notion-gallery-grid a > div:first-child {
    width: 200px !important;
    height: 134px !important;
    
    flex-shrink: 0 !important;
    margin-left: 32px !important;
    margin-bottom: 0 !important;
    
    border-radius: 4px !important;
    box-shadow: none !important; /* å»æŠ•å½± */
    
    overflow: hidden !important;
    position: relative !important;
    background: #f0f0f0 !important; 
    z-index: 1 !important;
}

body .notion-gallery-grid a > div:first-child img,
body .notion-gallery-grid a > div:first-child span {
    display: block !important;
    width: 100% !important;
    height: 100% !important;
    object-fit: cover !important;
    position: absolute !important;
    top: 0 !important;
    left: 0 !important;
    border-radius: 4px !important; /* å›¾ç‰‡åœ†è§’ */
    opacity: 1 !important;
    visibility: visible !important;
    z-index: 2 !important;
}

/* =========================================================
   5. å·¦ä¾§æ–‡å­— (å­—ä½“è°ƒæ•´ + å¸ƒå±€)
   ========================================================= */
body .notion-gallery-grid a > div:last-child {
    flex: 1 !important;
    display: flex !important;
    flex-direction: column !important;
    justify-content: center !important;
    padding: 0 !important;
    border: none !important;
}

/* æ ‡é¢˜ - å·²è°ƒå° */
body .notion-gallery-grid .notion-property-title {
    font-size: 0.9rem !important; /* å­—ä½“æ”¹å°äº† */
    font-weight: 700 !important;
    line-height: 1.3 !important;
    margin-bottom: 8px !important;
    color: #111 !important;
    white-space: normal !important;
}

/* æ‘˜è¦ */
body .notion-gallery-grid .notion-property-text {
    font-size: 1rem !important;
    color: rgba(0,0,0,0.6) !important;
    line-height: 1.5 !important;
    margin-bottom: 12px !important;
    display: -webkit-box !important;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
    white-space: normal !important;
}

/* æ—¥æœŸ */
body .notion-gallery-grid .notion-property-date,
body .notion-gallery-grid .notion-property-person {
    font-size: 0.85rem !important;
    color: rgba(0,0,0,0.4) !important;
    margin-top: auto !important;
}

/* éšè—å›¾æ ‡ */
body .notion-property-icon { display: none !important; }

/* æ‰‹æœºé€‚é… */
@media (max-width: 768px) {
    body .notion-gallery-grid a { flex-direction: column-reverse !important; }
    body .notion-gallery-grid a > div:first-child {
        width: 100% !important; height: 180px !important; margin-left: 0 !important; margin-bottom: 16px !important;
    }
}

/* æ‚é¡¹ */
body .notion-aside-table-of-contents-header { display: none !important; }
body .notion-aside-table-of-contents { margin-top: 8px !important; padding-left: 0 !important; }
body .notion-table-of-contents-item { list-style: none !important; padding: 2px 0 !important; }
body .notion-table-of-contents-item a { text-decoration: none !important; color: var(--fg-color-1) !important; }
body .notion-page-cover-wrapper, body .notion-page-cover, body .notion-block-image img { box-shadow: none !important; }

/* =========================================================
   6. é¢åŒ…å±‘æ–‡å­—è¶…é•¿è‡ªåŠ¨å˜çœç•¥å·
   ========================================================= */
.notion-nav-breadcrumb {
    max-width: 200px; /* é™åˆ¶æœ€å¤§å®½åº¦ï¼Œä½ å¯ä»¥æ”¹è¿™ä¸ªæ•°å€¼ */
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    display: inline-block;
    vertical-align: bottom;
}

/* æ‰‹æœºç«¯å¯ä»¥è®©å®ƒæ›´çŸ­ä¸€ç‚¹ */
@media (max-width: 768px) {
    .notion-nav-breadcrumb {
        max-width: 100px; /* æ‰‹æœºä¸Šé™åˆ¶æ›´ä¸¥æ ¼ */
    }
}
