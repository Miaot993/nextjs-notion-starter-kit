/* =================================================================
   CDO ç»ˆæå…¨èƒ½ç‰ˆæ ·å¼ (The Ultimate Merged Fix)
   åŒ…å«ï¼šå¼ºåˆ¶å°åœ†è§’å˜é‡ | ç›®å½•æ ·å¼è¿˜åŸ | æ‰å¹³åŒ–å»æŠ•å½±
   ================================================================= */

:root {
  /* ğŸŒŸ æ ¸å¿ƒä¿®æ”¹ï¼šé€šè¿‡å˜é‡æ§åˆ¶åœ†è§’ï¼Œè¿™æ˜¯æœ€æœ‰æ•ˆçš„æ–¹æ³• */
  --notion-corner-radius: 4px !important;
  
  /* å®šä¹‰é¢œè‰²å˜é‡ */
  --fg-color: #37352f;
  --fg-color-0: rgba(55, 53, 47, 0.09);
  --fg-color-1: rgba(55, 53, 47, 0.16);
  --fg-color-2: rgba(55, 53, 47, 0.6);
  --fg-color-3: rgba(55, 53, 47, 0.8);
  --fg-color-4: #000;
  --bg-color: #fff;
  --bg-color-0: rgba(135, 131, 120, 0.15);
  --bg-color-1: #f7f6f3;
  --bg-color-2: rgba(135, 131, 120, 0.15);
  
  --notion-red: #e03e3e;
  --notion-pink: #ad1a72;
  --notion-blue: #0b6e99;
  --notion-purple: #6940a5;
  --notion-teal: #4d6461;
  --notion-yellow: #dfab01;
  --notion-orange: #d9730d;
  --notion-brown: #64473a;
  --notion-gray: #9b9a97;
  
  --notion-gap: 16px;
}

[data-theme='dark'] {
  --fg-color: rgba(255, 255, 255, 0.9);
  --fg-color-0: rgba(255, 255, 255, 0.13);
  --fg-color-1: rgba(255, 255, 255, 0.2);
  --fg-color-2: rgba(255, 255, 255, 0.6);
  --fg-color-3: rgba(255, 255, 255, 0.8);
  --fg-color-4: #fff;
  --bg-color: #2f3437;
  --bg-color-0: rgba(255, 255, 255, 0.1);
  --bg-color-1: #3f4447;
  --bg-color-2: rgba(255, 255, 255, 0.1);
}

/* =========================================================
   1. å›¾ç‰‡ä¸å¡ç‰‡åœ†è§’ä¿®å¤ (ä½¿ç”¨å˜é‡+æš´åŠ›è¦†ç›–)
   ========================================================= */

/* é’ˆå¯¹å†…å®¹å›¾ç‰‡å— */
body .notion-block-image img,
body .notion-block-image .notion-asset-wrapper,
body .notion-block-image > span {
    border-radius: 4px !important;
    box-shadow: none !important;
}

/* é’ˆå¯¹é¡¶éƒ¨å¤§å›¾å°é¢ */
body .notion-page-cover-wrapper,
body .notion-page-cover,
body .notion-page-cover span,
body .notion-page-cover img {
    border-radius: 4px !important;
    box-shadow: none !important;
}

/* é’ˆå¯¹ç”»å»Šå¡ç‰‡ */
body .notion-gallery-card {
    border-radius: 4px !important;
    box-shadow: none !important;
    border: 1px solid var(--fg-color-1) !important;
    background: transparent !important;
    transition: all 0.2s ease !important;
}

/* å¡ç‰‡æ‚¬åœæ•ˆæœ */
body .notion-gallery-card:hover {
    background: var(--bg-color-0) !important;
    transform: translateY(-2px) !important;
    border-color: var(--fg-color-2) !important;
    box-shadow: none !important;
}

/* è¦†ç›–æ‰€æœ‰å¯èƒ½æ¼ç½‘çš„å›¾ç‰‡åœ†è§’ */
img[style*="border-radius"] {
    border-radius: 4px !important;
}

/* =========================================================
   2. ç›®å½•æ ·å¼ä¿®å¤ (Table of Contents)
   è¿˜åŸåˆ° Figure 1 çš„æ¸…çˆ½æ ·å¼
   ========================================================= */

/* éšè—ä¾§è¾¹æ ç›®å½•çš„é¡¶éƒ¨æ ‡é¢˜ "TABLE OF CONTENTS" */
body .notion-aside-table-of-contents-header {
    display: none !important;
}

/* è°ƒæ•´ä¾§è¾¹æ ç›®å½•çš„å®¹å™¨ä½ç½® */
body .notion-aside-table-of-contents {
    margin-top: 8px !important;
    padding-left: 0 !important;
}

/* é’ˆå¯¹æ¯ä¸€è¡Œç›®å½• */
body .notion-table-of-contents-item {
    list-style: none !important;
    padding: 2px 0 !important;
    line-height: 1.6 !important;
}

/* é’ˆå¯¹ç›®å½•é“¾æ¥æ–‡å­— */
body .notion-table-of-contents-item a {
    text-decoration: none !important;
    color: var(--fg-color-3) !important; /* æµ…ç°è‰²æ–‡å­— */
    font-size: 14px !important;
    border-bottom: 1px solid transparent;
    transition: color 0.2s ease;
}

/* é¼ æ ‡æ‚¬åœå˜è“ */
body .notion-table-of-contents-item a:hover {
    color: var(--notion-blue) !important;
    background: transparent !important;
    text-decoration: none !important;
}

/* å¤„ç†ç¼©è¿›ï¼Œä¿æŒå±‚çº§æ„Ÿ */
body .notion-table-of-contents-item-indent-1 { margin-left: 12px !important; }
body .notion-table-of-contents-item-indent-2 { margin-left: 24px !important; }

/* é’ˆå¯¹é¦–é¡µç½‘æ ¼å¸ƒå±€çš„å¾®è°ƒ */
body .notion-gallery-grid {
    gap: 16px !important;
    border-top: none !important;
    padding-top: 4px !important;
}
