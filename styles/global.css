/* =================================================================
   CDO 全局样式重写 (Final Plus Version)
   包含了：全局变量、大图/卡片基础修复、以及**目录美化**
   ================================================================= */

:root {
  --fg-color: #37352f;
  --fg-color-0: rgba(55, 53, 47, 0.09);
  --fg-color-1: rgba(55, 53, 47, 0.16);
  --fg-color-2: rgba(55, 53, 47, 0.6);
  --fg-color-3: rgba(55, 53, 47, 0.8);
  --fg-color-4: #000;
  --bg-color: #fff;
  --bg-color-0: rgba(135, 131, 120, 0.15);
  --bg-color-1: #f7f6f3;
  --bg-color-2: rgba(135, 131, 120, 0.15);
  --notion-red: #e03e3e;
  --notion-pink: #ad1a72;
  --notion-blue: #0b6e99;
  --notion-purple: #6940a5;
  --notion-teal: #4d6461;
  --notion-yellow: #dfab01;
  --notion-orange: #d9730d;
  --notion-brown: #64473a;
  --notion-gray: #9b9a97;
  
  /* 定义新的间距变量 */
  --notion-gap: 16px;
}

[data-theme='dark'] {
  --fg-color: rgba(255, 255, 255, 0.9);
  --fg-color-0: rgba(255, 255, 255, 0.13);
  --fg-color-1: rgba(255, 255, 255, 0.2);
  --fg-color-2: rgba(255, 255, 255, 0.6);
  --fg-color-3: rgba(255, 255, 255, 0.8);
  --fg-color-4: #fff;
  --bg-color: #2f3437;
  --bg-color-0: rgba(255, 255, 255, 0.1);
  --bg-color-1: #3f4447;
  --bg-color-2: rgba(255, 255, 255, 0.1);
  --notion-red: #ff7369;
  --notion-pink: #e255a1;
  --notion-blue: #529cca;
  --notion-purple: #9a6dd7;
  --notion-teal: #4dab9a;
  --notion-yellow: #ffdc49;
  --notion-orange: #ffa344;
  --notion-brown: #937264;
  --notion-gray: #979a9b;
}

/* =========================================================
   1. 核心修复：顶部大图 & 内容图片
   ========================================================= */

/* 针对 Notion 内容里的 Image Block */
body .notion-block-image {
  border-radius: 0 !important;
  box-shadow: none !important;
  margin-top: 0 !important; 
  margin-bottom: 2rem !important;
}

/* ⚠️ 穿透 Next.js Image 的外层结构 */
body .notion-block-image img,
body .notion-block-image > span {
  border-radius: 0 !important;
  box-shadow: none !important;
  max-height: 60vh !important;
  object-fit: cover !important;
}

/* 针对 Notion Page Cover */
body .notion-page-cover-wrapper,
body .notion-page-cover,
body .notion-page-cover span,
body .notion-page-cover img {
    border-radius: 0 !important;
    box-shadow: none !important;
    min-height: 30vh !important;
}


/* =========================================================
   2. 核心修复：数据库卡片 (Gallery View)
   ========================================================= */

body .notion-gallery-grid {
  grid-gap: 16px !important;
  gap: 16px !important;
  border-top: none !important;
  padding-top: 4px !important;
}

body .notion-gallery-card {
  box-shadow: none !important;
  border-radius: 4px !important;
  border: 1px solid var(--fg-color-1) !important;
  background: transparent !important;
  transition: all 0.2s ease !important;
}

body .notion-gallery-card:hover {
  background: var(--bg-color-0) !important;
  transform: translateY(-2px) !important;
  border-color: var(--fg-color-2) !important;
}

body .notion-gallery-card .notion-page-cover-wrapper {
  border-top-left-radius: 3px !important;
  border-top-right-radius: 3px !important;
  border-bottom: none !important;
}

body .notion-gallery-card .notion-collection-card-body {
    padding: 12px 10px !important;
}

body .notion-gallery-card .notion-property-icon {
    display: none !important;
}

/* =========================================================
   3. 核心修复：右侧目录 (Table of Contents)
   目标：隐藏标题，美化列表项，还原到你想要的样式
   ========================================================= */

/* 隐藏 "TABLE OF CONTENTS" 标题 */
body .notion-aside-table-of-contents-header {
    display: none !important;
}

/* 美化目录列表 */
body .notion-table-of-contents {
    padding-left: 0 !important; /* 去掉默认的左内边距 */
}

/* 美化目录项 */
body .notion-table-of-contents-item {
    list-style: none !important; /* 去掉列表前的点或数字 */
    padding: 4px 0 !important;   /* 调整每个条目的上下间距 */
}

/* 美化目录链接 */
body .notion-table-of-contents-item a {
    color: var(--fg-color-2) !important; /* 使用次级文字颜色 */
    text-decoration: none !important;    /* 去掉下划线 */
    transition: color 0.2s ease !important;
    font-size: 0.9rem !important;        /* 稍微调小字体 */
}

/* 鼠标悬停时链接变色 */
body .notion-table-of-contents-item a:hover {
    color: var(--notion-blue) !important; /* 悬停时变成 Notion 蓝 */
}
